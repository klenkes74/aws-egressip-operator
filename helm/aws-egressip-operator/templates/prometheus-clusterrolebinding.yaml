{{- if .Values.alert.create }}
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: monitor-{{ include "aws-egressip-operator.fullname" . }}
roleRef:
  kind: ClusterRole
  apiGroup: rbac.authorization.k8s.io
  name: monitor-{{ include "aws-egressip-operator.fullname" . }}
subjects:
  - kind: ServiceAccount
    name: prometheus-k8s
    namespace: openshift-monitoring
userNames:
  - system:serviceaccount:openshift-monitoring:prometheus-k8s
{{- end }}